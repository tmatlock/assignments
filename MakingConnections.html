<!-- Tristan Matlock
     Mat & Const III
     Durkhoop-Galas
     Spring 2023 -->

<!DOCTYPE html>
<html>
    <head>
            <meta charset="utf-8">
            <title>Making Connections</title>
            <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
            <link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet">
            <script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>
        <style>
            body { margin: 0; padding: 0; }
            #map { position: absolute; top: 0; bottom: 0; width: 100%; }
        </style>
    </head>
<body>
    <div id="map"></div>
<script>
	mapboxgl.accessToken = 'pk.eyJ1IjoidHJpc3Rhbm1hdGxvY2sxMyIsImEiOiJjbGc1ZmtuejQwMnczM2ZsanY4ZDA3NW1vIn0.4Nm_q4ClJXHqpwGUrGS6sg';
    const map = new mapboxgl.Map({
        container: 'map', // container ID
        // Choose from Mapbox's core styles, or make your own style with Mapbox Studio
        style: 'mapbox://styles/tristanmatlock13/cliqq5upe00i601pwaee0fro1', // style URL
        center: [-123.1, 44.03], // starting position
        zoom: 11.5 // starting zoom
    });
 
    map.on('load', () => {
        // Add a data source containing GeoJSON data.
        map.addSource('tsal_luk-wah', {
            'type': 'geojson',
            'data': {
            'type': 'Feature',
            'geometry': {
            'type': 'Polygon',
            // These coordinates outline Maine.
            'coordinates': [
            [
                [-123.1782, 44.04914],
                [-123.1782, 44.05059],
                [-123.1797, 44.05067],
                [-123.1797, 44.05547],
                [-123.1783, 44.05558],
                [-123.1783, 44.05723],
                [-123.1825, 44.05723],
                [-123.1839, 44.05554],
                [-123.1838, 44.05092],
                [-123.1782, 44.04914]
            ]
            ]
            }
            }
        });
 
        // Add a new layer to visualize the polygon.
        map.addLayer({
            'id': 'tsal_luk-wah',
            'type': 'fill',
            'source': 'tsal_luk-wah', // reference the data source
            'layout': {},
            'paint': {
                'fill-color': '#5050aa', // blue color fill
                'fill-opacity': 0.5
            }
        });
        // Add a black outline around the polygon.
        map.addLayer({
            'id': 'tsal_luk-wah_outline',
            'type': 'line',
            'source': 'tsal_luk-wah',
            'layout': {},
            'paint': {
                'line-color': '#000',
                'line-width': 1
            }
        });
        
          map.addSource('delta_ponds', {
            'type': 'geojson',
            'data': {
            'type': 'Feature',
            'geometry': {
            'type': 'Polygon',
            // These coordinates outline Maine.
            'coordinates': [
            [
                [-123.1078, 44.07598],
                [-123.1065, 44.07630],
                [-123.1057, 44.07613],
                [-123.1057, 44.07654],
                [-123.1057, 44.07693],
                [-123.1056, 44.07737],
                [-123.1054, 44.07783],
                [-123.1051, 44.07847],
                [-123.1044, 44.08016],
                [-123.1036, 44.08219],
                [-123.1034, 44.08295],
                [-123.1042, 44.08437],
                [-123.1035, 44.08576],
                [-123.1045, 44.08624],
                [-123.1049, 44.08559],
                [-123.1052, 44.08475],
                [-123.1053, 44.08281],
                [-123.1114, 44.08278],
                [-123.1118, 44.08124],
                [-123.1116, 44.08066],
                [-123.1112, 44.08033],
                [-123.1086, 44.07932],
                [-123.1080, 44.07869],
                [-123.1078, 44.07598]
            ]
            ]
            }
            }
        });
 
        // Add a new layer to visualize the polygon.
        map.addLayer({
            'id': 'delta_ponds',
            'type': 'fill',
            'source': 'delta_ponds', // reference the data source
            'layout': {},
            'paint': {
                'fill-color': '#5050aa', // blue color fill
                'fill-opacity': 0.5
            }
        });
        // Add a black outline around the polygon.
        map.addLayer({
            'id': 'delta_ponds_outline',
            'type': 'line',
            'source': 'delta_ponds',
            'layout': {},
            'paint': {
                'line-color': '#000',
                'line-width': 1
            }
        });
        map.addSource('meadows', {
            'type': 'geojson',
            'data': {
            'type': 'Feature',
            'geometry': {
            'type': 'Polygon',
            // These coordinates outline Maine.
            'coordinates': [
            [
                [-123.1260, 44.0052],
                [-123.1270, 43.9970],
                [-123.1182, 43.9969],
                [-123.1189, 44.0051],
                [-123.1260, 44.0052]
            ]
            ]
            }
            }
        });
 
        // Add a new layer to visualize the polygon.
        map.addLayer({
            'id': 'meadows',
            'type': 'fill',
            'source': 'meadows', // reference the data source
            'layout': {},
            'paint': {
                'fill-color': '#5050aa', // blue color fill
                'fill-opacity': 0.5
            }
        });
        // Add a black outline around the polygon.
        map.addLayer({
            'id': 'meadows_outline',
            'type': 'line',
            'source': 'meadows',
            'layout': {},
            'paint': {
                'line-color': '#000',
                'line-width': 1
            }
        });
//ROUTE
        map.addSource('route', {
            'type': 'geojson',
            'data': {
                'type': 'Feature',
                'properties': {},
                'geometry': {
                    'type': 'LineString',
                    'coordinates': [
                        [-123.1780, 44.0479],
                        [-123.1744, 44.0433],
                        [-123.1766, 44.0387],
                        [-123.1712, 44.0382],
                        [-123.1738, 44.0345]
                    ]
                }
            }
        });
        map.addLayer({
            'id': 'route',
            'type': 'line',
            'source': 'route',
            'layout': {
                'line-join': 'round',
                'line-cap': 'round'
            },
            'paint': {
                'line-color': '#159',
                'line-width': 8
            }
        });
              
//POPUPS
        var tsal_luk_wah_content = '<h2>Tsal Luk-wah<h2><h3>"River of Grass" in Kalapuyan<h3><h4>Wet prairie wetlands, vernal pools, emergent wetland, shrub habitat<h4>';
            tsal_luk_wah_content += '<img class = "popupImage" src = "https://tmatlock.github.io/assignments/tsal-luk-wah.jpeg" width ="200px">'
            tsal_luk_wah_content += 'Source:<a href="https://www.eugene-or.gov/Facilities/Facility/Details/81" target="_blank">Eugene City Facilities</a>';
         map.on('click', 'tsal_luk-wah', (e) => {
            new mapboxgl.Popup()
                .setLngLat(e.lngLat)
                .setHTML(tsal_luk_wah_content)
                .addTo(map);
        });
        var delta_ponds_content = '<h2>Delta Ponds<h2><h3>Habitat Restoration<h3><h4>Ponds, channels, wetlands, riprarian areas<h4>';
            delta_ponds_content += '<img class = "popupImage" src = "https://tmatlock.github.io/assignments/delta-ponds.jpg" width ="200px">'
            delta_ponds_content += 'Source:<a href="https://www.eugene-or.gov/Facilities/Facility/Details/Delta-Ponds-133" target="_blank">Eugene City Facilities</a>';
         map.on('click', 'delta_ponds', (e) => {
            new mapboxgl.Popup()
                .setLngLat(e.lngLat)
                .setHTML(delta_ponds_content)
                .addTo(map);
        });
        
        var meadows_content = '<h2>South Eugene Meadows<h2><h3>Ridgeline Trail System<h3><h4>Upland prairie, oak savanna, oak woodlands<h4>';
            meadows_content += '<img class = "popupImage" src = "https://tmatlock.github.io/assignments/South_Eugene_meadows.jpg" width ="200px">'
            meadows_content += 'Source:<a href="https://www.eugene-or.gov/Facilities/Facility/Details/-157" target="_blank">Eugene City Facilities</a>';
        map.on('click', 'meadows', (e) => {
            new mapboxgl.Popup()
                .setLngLat(e.lngLat)
                .setHTML(meadows_content)
                .addTo(map);
        });
        
 //CURSOR
        // Change the cursor to a pointer when
        // the mouse is over the states layer.
            map.on('mouseenter', 'tsal_luk-wah', () => {
            map.getCanvas().style.cursor = 'pointer';
        });
 
        // Change the cursor back to a pointer
        // when it leaves the states layer.
            map.on('mouseleave', 'meadows', () => {
            map.getCanvas().style.cursor = '';
        });
               map.on('mouseenter', 'delta_ponds', () => {
            map.getCanvas().style.cursor = 'pointer';
        });
 
        // Change the cursor back to a pointer
        // when it leaves the states layer.
            map.on('mouseleave', 'delta_ponds', () => {
            map.getCanvas().style.cursor = '';
        });
               map.on('mouseenter', 'meadows', () => {
            map.getCanvas().style.cursor = 'pointer';
        });
 
        // Change the cursor back to a pointer
        // when it leaves the states layer.
            map.on('mouseleave', 'meadows', () => {
            map.getCanvas().style.cursor = '';
        });
    });
</script>
 
</body>
</html>